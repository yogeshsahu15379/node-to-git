import{r as registerInstance,h,H as Host,g as getElement}from"./index-abd53505.js";var liteready=function(e){if(document.readyState==="complete"||document.readyState==="interactive"){e.call()}else if(document.attachEvent){document.attachEvent("onreadystatechange",(function(){if(document.readyState==="interactive")e.call()}))}else if(document.addEventListener){document.addEventListener("DOMContentLoaded",e)}};var commonjsGlobal=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:true});Object.keys(e).forEach((function(i){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,o.get?o:{enumerable:true,get:function(){return e[i]}})}));return t}var win;if(typeof window!=="undefined"){win=window}else if(typeof commonjsGlobal!=="undefined"){win=commonjsGlobal}else if(typeof self!=="undefined"){win=self}else{win={}}var window_1=win;var navigator=window_1.window.navigator;var isIE=-1<navigator.userAgent.indexOf("MSIE ")||-1<navigator.userAgent.indexOf("Trident/")||-1<navigator.userAgent.indexOf("Edge/");var isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);var supportTransform=function(){var e="transform WebkitTransform MozTransform".split(" ");var t=document.createElement("div");for(var i=0;i<e.length;i+=1){if(t&&t.style[e[i]]!==undefined){return e[i]}}return false}();var $deviceHelper;function getDeviceHeight(){if(!$deviceHelper&&document.body){$deviceHelper=document.createElement("div");$deviceHelper.style.cssText="position: fixed; top: -9999px; left: 0; height: 100vh; width: 0;";document.body.appendChild($deviceHelper)}return($deviceHelper?$deviceHelper.clientHeight:0)||window_1.window.innerHeight||document.documentElement.clientHeight}var wndH;function updateWndVars(){if(isMobile){wndH=getDeviceHeight()}else{wndH=window_1.window.innerHeight||document.documentElement.clientHeight}}updateWndVars();window_1.window.addEventListener("resize",updateWndVars);window_1.window.addEventListener("orientationchange",updateWndVars);window_1.window.addEventListener("load",updateWndVars);liteready((function(){updateWndVars()}));var jarallaxList=[];function getParents(e){var t=[];while(null!==e.parentElement){e=e.parentElement;if(1===e.nodeType){t.push(e)}}return t}function updateParallax(){if(!jarallaxList.length){return}jarallaxList.forEach((function(e,t){var i=e.instance,o=e.oldData;var a=i.$item.getBoundingClientRect();var n={width:a.width,height:a.height,top:a.top,bottom:a.bottom,wndW:window_1.window.innerWidth,wndH:wndH};var r=!o||o.wndW!==n.wndW||o.wndH!==n.wndH||o.width!==n.width||o.height!==n.height;var l=r||!o||o.top!==n.top||o.bottom!==n.bottom;jarallaxList[t].oldData=n;if(r){i.onResize()}if(l){i.onScroll()}}));window_1.window.requestAnimationFrame(updateParallax)}var instanceID=0;var Jarallax=function(){function e(e,t){var i;var o=this;o.instanceID=instanceID;instanceID+=1;o.$item=e;o.defaults={type:"scroll",speed:.5,imgSrc:null,imgElement:".jarallax-img",imgSize:"cover",imgPosition:"50% 50%",imgRepeat:"no-repeat",keepImg:false,elementInViewport:null,zIndex:-100,disableParallax:false,disableVideo:false,videoSrc:null,videoStartTime:0,videoEndTime:0,videoVolume:0,videoLoop:true,videoPlayOnlyVisible:true,videoLazyLoading:true,onScroll:null,onInit:null,onDestroy:null,onCoverImage:null};var a=o.$item.dataset||{};var n={};Object.keys(a).forEach((function(e){var t=e.substr(0,1).toLowerCase()+e.substr(1);if(t&&"undefined"!==typeof o.defaults[t]){n[t]=a[e]}}));o.options=o.extend({},o.defaults,n,t);o.pureOptions=o.extend({},o.options);Object.keys(o.options).forEach((function(e){if("true"===o.options[e]){o.options[e]=true}else if("false"===o.options[e]){o.options[e]=false}}));o.options.speed=Math.min(2,Math.max(-1,parseFloat(o.options.speed)));if("string"===typeof o.options.disableParallax){o.options.disableParallax=new RegExp(o.options.disableParallax)}if(o.options.disableParallax instanceof RegExp){var r=o.options.disableParallax;o.options.disableParallax=function(){return r.test(navigator.userAgent)}}if("function"!==typeof o.options.disableParallax){o.options.disableParallax=function(){return false}}if("string"===typeof o.options.disableVideo){o.options.disableVideo=new RegExp(o.options.disableVideo)}if(o.options.disableVideo instanceof RegExp){var l=o.options.disableVideo;o.options.disableVideo=function(){return l.test(navigator.userAgent)}}if("function"!==typeof o.options.disableVideo){o.options.disableVideo=function(){return false}}var s=o.options.elementInViewport;if(s&&"object"===typeof s&&"undefined"!==typeof s.length){i=s,s=i[0]}if(!(s instanceof Element)){s=null}o.options.elementInViewport=s;o.image={src:o.options.imgSrc||null,$container:null,useImgTag:false,position:/iPad|iPhone|iPod|Android/.test(navigator.userAgent)?"absolute":"fixed"};if(o.initImg()&&o.canInitParallax()){o.init()}}e.prototype.css=function(e,t){if("string"===typeof t){return window_1.window.getComputedStyle(e).getPropertyValue(t)}if(t.transform&&supportTransform){t[supportTransform]=t.transform}Object.keys(t).forEach((function(i){e.style[i]=t[i]}));return e};e.prototype.extend=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}e=e||{};Object.keys(t).forEach((function(i){if(!t[i]){return}Object.keys(t[i]).forEach((function(o){e[o]=t[i][o]}))}));return e};e.prototype.getWindowData=function(){return{width:window_1.window.innerWidth||document.documentElement.clientWidth,height:wndH,y:document.documentElement.scrollTop}};e.prototype.initImg=function(){var e=this;var t=e.options.imgElement;if(t&&"string"===typeof t){t=e.$item.querySelector(t)}if(!(t instanceof Element)){if(e.options.imgSrc){t=new Image;t.src=e.options.imgSrc}else{t=null}}if(t){if(e.options.keepImg){e.image.$item=t.cloneNode(true)}else{e.image.$item=t;e.image.$itemParent=t.parentNode}e.image.useImgTag=true}if(e.image.$item){return true}if(null===e.image.src){e.image.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";e.image.bgImage=e.css(e.$item,"background-image")}return!(!e.image.bgImage||"none"===e.image.bgImage)};e.prototype.canInitParallax=function(){return supportTransform&&!this.options.disableParallax()};e.prototype.init=function(){var e=this;var t={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden"};var i={pointerEvents:"none",transformStyle:"preserve-3d",backfaceVisibility:"hidden",willChange:"transform,opacity"};if(!e.options.keepImg){var o=e.$item.getAttribute("style");if(o){e.$item.setAttribute("data-jarallax-original-styles",o)}if(e.image.useImgTag){var a=e.image.$item.getAttribute("style");if(a){e.image.$item.setAttribute("data-jarallax-original-styles",a)}}}if("static"===e.css(e.$item,"position")){e.css(e.$item,{position:"relative"})}if("auto"===e.css(e.$item,"z-index")){e.css(e.$item,{zIndex:0})}e.image.$container=document.createElement("div");e.css(e.image.$container,t);e.css(e.image.$container,{"z-index":e.options.zIndex});if(isIE){e.css(e.image.$container,{opacity:.9999})}e.image.$container.setAttribute("id","jarallax-container-"+e.instanceID);e.$item.appendChild(e.image.$container);if(e.image.useImgTag){i=e.extend({"object-fit":e.options.imgSize,"object-position":e.options.imgPosition,"font-family":"object-fit: "+e.options.imgSize+"; object-position: "+e.options.imgPosition+";","max-width":"none"},t,i)}else{e.image.$item=document.createElement("div");if(e.image.src){i=e.extend({"background-position":e.options.imgPosition,"background-size":e.options.imgSize,"background-repeat":e.options.imgRepeat,"background-image":e.image.bgImage||'url("'+e.image.src+'")'},t,i)}}if("opacity"===e.options.type||"scale"===e.options.type||"scale-opacity"===e.options.type||1===e.options.speed){e.image.position="absolute"}if("fixed"===e.image.position){var n=getParents(e.$item).filter((function(e){var t=window_1.window.getComputedStyle(e);var i=t["-webkit-transform"]||t["-moz-transform"]||t.transform;var o=/(auto|scroll)/;return i&&"none"!==i||o.test(t.overflow+t["overflow-y"]+t["overflow-x"])}));e.image.position=n.length?"absolute":"fixed"}i.position=e.image.position;e.css(e.image.$item,i);e.image.$container.appendChild(e.image.$item);e.onResize();e.onScroll(true);if(e.options.onInit){e.options.onInit.call(e)}if("none"!==e.css(e.$item,"background-image")){e.css(e.$item,{"background-image":"none"})}e.addToParallaxList()};e.prototype.addToParallaxList=function(){jarallaxList.push({instance:this});if(1===jarallaxList.length){window_1.window.requestAnimationFrame(updateParallax)}};e.prototype.removeFromParallaxList=function(){var e=this;jarallaxList.forEach((function(t,i){if(t.instance.instanceID===e.instanceID){jarallaxList.splice(i,1)}}))};e.prototype.destroy=function(){var e=this;e.removeFromParallaxList();var t=e.$item.getAttribute("data-jarallax-original-styles");e.$item.removeAttribute("data-jarallax-original-styles");if(!t){e.$item.removeAttribute("style")}else{e.$item.setAttribute("style",t)}if(e.image.useImgTag){var i=e.image.$item.getAttribute("data-jarallax-original-styles");e.image.$item.removeAttribute("data-jarallax-original-styles");if(!i){e.image.$item.removeAttribute("style")}else{e.image.$item.setAttribute("style",t)}if(e.image.$itemParent){e.image.$itemParent.appendChild(e.image.$item)}}if(e.$clipStyles){e.$clipStyles.parentNode.removeChild(e.$clipStyles)}if(e.image.$container){e.image.$container.parentNode.removeChild(e.image.$container)}if(e.options.onDestroy){e.options.onDestroy.call(e)}delete e.$item.jarallax};e.prototype.clipContainer=function(){if("fixed"!==this.image.position){return}var e=this;var t=e.image.$container.getBoundingClientRect();var i=t.width,o=t.height;if(!e.$clipStyles){e.$clipStyles=document.createElement("style");e.$clipStyles.setAttribute("type","text/css");e.$clipStyles.setAttribute("id","jarallax-clip-"+e.instanceID);var a=document.head||document.getElementsByTagName("head")[0];a.appendChild(e.$clipStyles)}var n="#jarallax-container-"+e.instanceID+" {\n            clip: rect(0 "+i+"px "+o+"px 0);\n            clip: rect(0, "+i+"px, "+o+"px, 0);\n            -webkit-clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);\n            clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);\n        }";if(e.$clipStyles.styleSheet){e.$clipStyles.styleSheet.cssText=n}else{e.$clipStyles.innerHTML=n}};e.prototype.coverImage=function(){var e=this;var t=e.image.$container.getBoundingClientRect();var i=t.height;var o=e.options.speed;var a="scroll"===e.options.type||"scroll-opacity"===e.options.type;var n=0;var r=i;var l=0;if(a){if(0>o){n=o*Math.max(i,wndH);if(wndH<i){n-=o*(i-wndH)}}else{n=o*(i+wndH)}if(1<o){r=Math.abs(n-wndH)}else if(0>o){r=n/o+Math.abs(n)}else{r+=(wndH-i)*(1-o)}n/=2}e.parallaxScrollDistance=n;if(a){l=(wndH-r)/2}else{l=(i-r)/2}e.css(e.image.$item,{height:r+"px",marginTop:l+"px",left:"fixed"===e.image.position?t.left+"px":"0",width:t.width+"px"});if(e.options.onCoverImage){e.options.onCoverImage.call(e)}return{image:{height:r,marginTop:l},container:t}};e.prototype.isVisible=function(){return this.isElementInViewport||false};e.prototype.onScroll=function(e){var t=this;var i=t.$item.getBoundingClientRect();var o=i.top;var a=i.height;var n={};var r=i;if(t.options.elementInViewport){r=t.options.elementInViewport.getBoundingClientRect()}t.isElementInViewport=0<=r.bottom&&0<=r.right&&r.top<=wndH&&r.left<=window_1.window.innerWidth;if(e?false:!t.isElementInViewport){return}var l=Math.max(0,o);var s=Math.max(0,a+o);var p=Math.max(0,-o);var d=Math.max(0,o+a-wndH);var u=Math.max(0,a-(o+a-wndH));var f=Math.max(0,-o+wndH-a);var m=1-2*((wndH-o)/(wndH+a));var c=1;if(a<wndH){c=1-(p||d)/a}else if(s<=wndH){c=s/wndH}else if(u<=wndH){c=u/wndH}if("opacity"===t.options.type||"scale-opacity"===t.options.type||"scroll-opacity"===t.options.type){n.transform="translate3d(0,0,0)";n.opacity=c}if("scale"===t.options.type||"scale-opacity"===t.options.type){var v=1;if(0>t.options.speed){v-=t.options.speed*c}else{v+=t.options.speed*(1-c)}n.transform="scale("+v+") translate3d(0,0,0)"}if("scroll"===t.options.type||"scroll-opacity"===t.options.type){var y=t.parallaxScrollDistance*m;if("absolute"===t.image.position){y-=o}n.transform="translate3d(0,"+y+"px,0)"}t.css(t.image.$item,n);if(t.options.onScroll){t.options.onScroll.call(t,{section:i,beforeTop:l,beforeTopEnd:s,afterTop:p,beforeBottom:d,beforeBottomEnd:u,afterBottom:f,visiblePercent:c,fromViewportCenter:m})}};e.prototype.onResize=function(){this.coverImage();this.clipContainer()};return e}();var plugin=function(e,t){var i=[];for(var o=2;o<arguments.length;o++){i[o-2]=arguments[o]}if("object"===typeof HTMLElement?e instanceof HTMLElement:e&&"object"===typeof e&&null!==e&&1===e.nodeType&&"string"===typeof e.nodeName){e=[e]}var a=e.length;var n=0;var r;for(n;n<a;n+=1){if("object"===typeof t||"undefined"===typeof t){if(!e[n].jarallax){e[n].jarallax=new Jarallax(e[n],t)}}else if(e[n].jarallax){r=e[n].jarallax[t].apply(e[n].jarallax,i)}if("undefined"!==typeof r){return r}}return e};plugin.constructor=Jarallax;var jarallax_esm=Object.freeze({__proto__:null,default:plugin});function Deferred(){this.doneCallbacks=[];this.failCallbacks=[]}Deferred.prototype={execute:function(e,t){var i=e.length;t=Array.prototype.slice.call(t);while(i){i-=1;e[i].apply(null,t)}},resolve:function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}this.execute(this.doneCallbacks,e)},reject:function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}this.execute(this.failCallbacks,e)},done:function(e){this.doneCallbacks.push(e)},fail:function(e){this.failCallbacks.push(e)}};var ID=0;var YoutubeAPIadded=0;var VimeoAPIadded=0;var loadingYoutubePlayer=0;var loadingVimeoPlayer=0;var loadingYoutubeDefer=new Deferred;var loadingVimeoDefer=new Deferred;var VideoWorker=function(){function e(e,t){var i=this;i.url=e;i.options_default={autoplay:false,loop:false,mute:false,volume:100,showContols:true,startTime:0,endTime:0};i.options=i.extend({},i.options_default,t);i.videoID=i.parseURL(e);if(i.videoID){i.ID=ID;ID+=1;i.loadAPI();i.init()}}e.prototype.extend=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var i=e[0]||{};Object.keys(e).forEach((function(t){if(!e[t]){return}Object.keys(e[t]).forEach((function(o){i[o]=e[t][o]}))}));return i};e.prototype.parseURL=function(e){function t(e){var t=/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/;var i=e.match(t);return i&&11===i[1].length?i[1]:false}function i(e){var t=/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/;var i=e.match(t);return i&&i[3]?i[3]:false}function o(e){var t=e.split(/,(?=mp4\:|webm\:|ogv\:|ogg\:)/);var i={};var o=0;t.forEach((function(e){var t=e.match(/^(mp4|webm|ogv|ogg)\:(.*)/);if(t&&t[1]&&t[2]){i["ogv"===t[1]?"ogg":t[1]]=t[2];o=1}}));return o?i:false}var a=t(e);var n=i(e);var r=o(e);if(a){this.type="youtube";return a}if(n){this.type="vimeo";return n}if(r){this.type="local";return r}return false};e.prototype.isValid=function(){return!!this.videoID};e.prototype.on=function(e,t){this.userEventsList=this.userEventsList||[];(this.userEventsList[e]||(this.userEventsList[e]=[])).push(t)};e.prototype.off=function(e,t){var i=this;if(!this.userEventsList||!this.userEventsList[e]){return}if(!t){delete this.userEventsList[e]}else{this.userEventsList[e].forEach((function(o,a){if(o===t){i.userEventsList[e][a]=false}}))}};e.prototype.fire=function(e){var t=this;var i=[];for(var o=1;o<arguments.length;o++){i[o-1]=arguments[o]}if(this.userEventsList&&"undefined"!==typeof this.userEventsList[e]){this.userEventsList[e].forEach((function(e){if(e){e.apply(t,i)}}))}};e.prototype.play=function(e){var t=this;if(!t.player){return}if("youtube"===t.type&&t.player.playVideo){if("undefined"!==typeof e){t.player.seekTo(e||0)}if(window_1.YT.PlayerState.PLAYING!==t.player.getPlayerState()){t.player.playVideo()}}if("vimeo"===t.type){if("undefined"!==typeof e){t.player.setCurrentTime(e)}t.player.getPaused().then((function(e){if(e){t.player.play()}}))}if("local"===t.type){if("undefined"!==typeof e){t.player.currentTime=e}if(t.player.paused){t.player.play()}}};e.prototype.pause=function(){var e=this;if(!e.player){return}if("youtube"===e.type&&e.player.pauseVideo){if(window_1.YT.PlayerState.PLAYING===e.player.getPlayerState()){e.player.pauseVideo()}}if("vimeo"===e.type){e.player.getPaused().then((function(t){if(!t){e.player.pause()}}))}if("local"===e.type){if(!e.player.paused){e.player.pause()}}};e.prototype.mute=function(){var e=this;if(!e.player){return}if("youtube"===e.type&&e.player.mute){e.player.mute()}if("vimeo"===e.type&&e.player.setVolume){e.player.setVolume(0)}if("local"===e.type){e.$video.muted=true}};e.prototype.unmute=function(){var e=this;if(!e.player){return}if("youtube"===e.type&&e.player.mute){e.player.unMute()}if("vimeo"===e.type&&e.player.setVolume){e.player.setVolume(e.options.volume)}if("local"===e.type){e.$video.muted=false}};e.prototype.setVolume=function(e){if(e===void 0){e=false}var t=this;if(!t.player||!e){return}if("youtube"===t.type&&t.player.setVolume){t.player.setVolume(e)}if("vimeo"===t.type&&t.player.setVolume){t.player.setVolume(e)}if("local"===t.type){t.$video.volume=e/100}};e.prototype.getVolume=function(e){var t=this;if(!t.player){e(false);return}if("youtube"===t.type&&t.player.getVolume){e(t.player.getVolume())}if("vimeo"===t.type&&t.player.getVolume){t.player.getVolume().then((function(t){e(t)}))}if("local"===t.type){e(t.$video.volume*100)}};e.prototype.getMuted=function(e){var t=this;if(!t.player){e(null);return}if("youtube"===t.type&&t.player.isMuted){e(t.player.isMuted())}if("vimeo"===t.type&&t.player.getVolume){t.player.getVolume().then((function(t){e(!!t)}))}if("local"===t.type){e(t.$video.muted)}};e.prototype.getImageURL=function(e){var t=this;if(t.videoImage){e(t.videoImage);return}if("youtube"===t.type){var i=["maxresdefault","sddefault","hqdefault","0"];var o=0;var a=new Image;a.onload=function(){if(120!==(this.naturalWidth||this.width)||o===i.length-1){t.videoImage="https://img.youtube.com/vi/"+t.videoID+"/"+i[o]+".jpg";e(t.videoImage)}else{o+=1;this.src="https://img.youtube.com/vi/"+t.videoID+"/"+i[o]+".jpg"}};a.src="https://img.youtube.com/vi/"+t.videoID+"/"+i[o]+".jpg"}if("vimeo"===t.type){var n=new XMLHttpRequest;n.open("GET","https://vimeo.com/api/v2/video/"+t.videoID+".json",true);n.onreadystatechange=function(){if(4===this.readyState){if(200<=this.status&&400>this.status){var i=JSON.parse(this.responseText);t.videoImage=i[0].thumbnail_large;e(t.videoImage)}}};n.send();n=null}};e.prototype.getIframe=function(e){this.getVideo(e)};e.prototype.getVideo=function(e){var t=this;if(t.$video){e(t.$video);return}t.onAPIready((function(){var i;if(!t.$video){i=document.createElement("div");i.style.display="none"}if("youtube"===t.type){t.playerOptions={host:"https://www.youtube-nocookie.com",videoId:t.videoID,playerVars:{autohide:1,rel:0,autoplay:0,playsinline:1}};if(!t.options.showContols){t.playerOptions.playerVars.iv_load_policy=3;t.playerOptions.playerVars.modestbranding=1;t.playerOptions.playerVars.controls=0;t.playerOptions.playerVars.showinfo=0;t.playerOptions.playerVars.disablekb=1}var o;var a;t.playerOptions.events={onReady:function(e){if(t.options.mute){e.target.mute()}else if(t.options.volume){e.target.setVolume(t.options.volume)}if(t.options.autoplay){t.play(t.options.startTime)}t.fire("ready",e);if(t.options.loop&&!t.options.endTime){var i=.1;t.options.endTime=t.player.getDuration()-i}setInterval((function(){t.getVolume((function(i){if(t.options.volume!==i){t.options.volume=i;t.fire("volumechange",e)}}))}),150)},onStateChange:function(e){if(t.options.loop&&e.data===window_1.YT.PlayerState.ENDED){t.play(t.options.startTime)}if(!o&&e.data===window_1.YT.PlayerState.PLAYING){o=1;t.fire("started",e)}if(e.data===window_1.YT.PlayerState.PLAYING){t.fire("play",e)}if(e.data===window_1.YT.PlayerState.PAUSED){t.fire("pause",e)}if(e.data===window_1.YT.PlayerState.ENDED){t.fire("ended",e)}if(e.data===window_1.YT.PlayerState.PLAYING){a=setInterval((function(){t.fire("timeupdate",e);if(t.options.endTime&&t.player.getCurrentTime()>=t.options.endTime){if(t.options.loop){t.play(t.options.startTime)}else{t.pause()}}}),150)}else{clearInterval(a)}},onError:function(e){t.fire("error",e)}};var n=!t.$video;if(n){var r=document.createElement("div");r.setAttribute("id",t.playerID);i.appendChild(r);document.body.appendChild(i)}t.player=t.player||new window_1.YT.Player(t.playerID,t.playerOptions);if(n){t.$video=document.getElementById(t.playerID);t.videoWidth=parseInt(t.$video.getAttribute("width"),10)||1280;t.videoHeight=parseInt(t.$video.getAttribute("height"),10)||720}}if("vimeo"===t.type){t.playerOptions={dnt:1,id:t.videoID,autopause:0,transparent:0,autoplay:t.options.autoplay?1:0,loop:t.options.loop?1:0,muted:t.options.mute?1:0};if(t.options.volume){t.playerOptions.volume=t.options.volume}if(!t.options.showContols){t.playerOptions.badge=0;t.playerOptions.byline=0;t.playerOptions.portrait=0;t.playerOptions.title=0;t.playerOptions.background=1}if(!t.$video){var l="";Object.keys(t.playerOptions).forEach((function(e){if(""!==l){l+="&"}l+=e+"="+encodeURIComponent(t.playerOptions[e])}));t.$video=document.createElement("iframe");t.$video.setAttribute("id",t.playerID);t.$video.setAttribute("src","https://player.vimeo.com/video/"+t.videoID+"?"+l);t.$video.setAttribute("frameborder","0");t.$video.setAttribute("mozallowfullscreen","");t.$video.setAttribute("allowfullscreen","");i.appendChild(t.$video);document.body.appendChild(i)}t.player=t.player||new window_1.Vimeo.Player(t.$video,t.playerOptions);if(t.options.startTime&&t.options.autoplay){t.player.setCurrentTime(t.options.startTime)}t.player.getVideoWidth().then((function(e){t.videoWidth=e||1280}));t.player.getVideoHeight().then((function(e){t.videoHeight=e||720}));var s;t.player.on("timeupdate",(function(e){if(!s){t.fire("started",e);s=1}t.fire("timeupdate",e);if(t.options.endTime){if(t.options.endTime&&e.seconds>=t.options.endTime){if(t.options.loop){t.play(t.options.startTime)}else{t.pause()}}}}));t.player.on("play",(function(e){t.fire("play",e);if(t.options.startTime&&0===e.seconds){t.play(t.options.startTime)}}));t.player.on("pause",(function(e){t.fire("pause",e)}));t.player.on("ended",(function(e){t.fire("ended",e)}));t.player.on("loaded",(function(e){t.fire("ready",e)}));t.player.on("volumechange",(function(e){t.fire("volumechange",e)}));t.player.on("error",(function(e){t.fire("error",e)}))}function p(e,t,i){var o=document.createElement("source");o.src=t;o.type=i;e.appendChild(o)}if("local"===t.type){if(!t.$video){t.$video=document.createElement("video");if(t.options.showContols){t.$video.controls=true}if(t.options.mute){t.$video.muted=true}else if(t.$video.volume){t.$video.volume=t.options.volume/100}if(t.options.loop){t.$video.loop=true}t.$video.setAttribute("playsinline","");t.$video.setAttribute("webkit-playsinline","");t.$video.setAttribute("id",t.playerID);i.appendChild(t.$video);document.body.appendChild(i);Object.keys(t.videoID).forEach((function(e){p(t.$video,t.videoID[e],"video/"+e)}))}t.player=t.player||t.$video;var d;t.player.addEventListener("playing",(function(e){if(!d){t.fire("started",e)}d=1}));t.player.addEventListener("timeupdate",(function(e){t.fire("timeupdate",e);if(t.options.endTime){if(t.options.endTime&&this.currentTime>=t.options.endTime){if(t.options.loop){t.play(t.options.startTime)}else{t.pause()}}}}));t.player.addEventListener("play",(function(e){t.fire("play",e)}));t.player.addEventListener("pause",(function(e){t.fire("pause",e)}));t.player.addEventListener("ended",(function(e){t.fire("ended",e)}));t.player.addEventListener("loadedmetadata",(function(){t.videoWidth=this.videoWidth||1280;t.videoHeight=this.videoHeight||720;t.fire("ready");if(t.options.autoplay){t.play(t.options.startTime)}}));t.player.addEventListener("volumechange",(function(e){t.getVolume((function(e){t.options.volume=e}));t.fire("volumechange",e)}));t.player.addEventListener("error",(function(e){t.fire("error",e)}))}e(t.$video)}))};e.prototype.init=function(){var e=this;e.playerID="VideoWorker-"+e.ID};e.prototype.loadAPI=function(){var e=this;if(YoutubeAPIadded&&VimeoAPIadded){return}var t="";if("youtube"===e.type&&!YoutubeAPIadded){YoutubeAPIadded=1;t="https://www.youtube.com/iframe_api"}if("vimeo"===e.type&&!VimeoAPIadded){VimeoAPIadded=1;if("undefined"!==typeof window_1.Vimeo){return}t="https://player.vimeo.com/api/player.js"}if(!t){return}var i=document.createElement("script");var o=document.getElementsByTagName("head")[0];i.src=t;o.appendChild(i);o=null;i=null};e.prototype.onAPIready=function(e){var t=this;if("youtube"===t.type){if(("undefined"===typeof window_1.YT||0===window_1.YT.loaded)&&!loadingYoutubePlayer){loadingYoutubePlayer=1;window.onYouTubeIframeAPIReady=function(){window.onYouTubeIframeAPIReady=null;loadingYoutubeDefer.resolve("done");e()}}else if("object"===typeof window_1.YT&&1===window_1.YT.loaded){e()}else{loadingYoutubeDefer.done((function(){e()}))}}if("vimeo"===t.type){if("undefined"===typeof window_1.Vimeo&&!loadingVimeoPlayer){loadingVimeoPlayer=1;var i=setInterval((function(){if("undefined"!==typeof window_1.Vimeo){clearInterval(i);loadingVimeoDefer.resolve("done");e()}}),20)}else if("undefined"!==typeof window_1.Vimeo){e()}else{loadingVimeoDefer.done((function(){e()}))}}if("local"===t.type){e()}};return e}();function jarallaxVideo(e){if(e===void 0){e=window_1.jarallax}if("undefined"===typeof e){return}var t=e.constructor;var i=t.prototype.onScroll;t.prototype.onScroll=function(){var e=this;i.apply(e);var t=!e.isVideoInserted&&e.video&&(!e.options.videoLazyLoading||e.isElementInViewport)&&!e.options.disableVideo();if(t){e.isVideoInserted=true;e.video.getVideo((function(t){var i=t.parentNode;e.css(t,{position:e.image.position,top:"0px",left:"0px",right:"0px",bottom:"0px",width:"100%",height:"100%",maxWidth:"none",maxHeight:"none",pointerEvents:"none",transformStyle:"preserve-3d",backfaceVisibility:"hidden",willChange:"transform,opacity",margin:0,zIndex:-1});e.$video=t;if("local"===e.video.type){if(e.image.src){e.$video.setAttribute("poster",e.image.src)}else if(e.image.$item&&"IMG"===e.image.$item.tagName&&e.image.$item.src){e.$video.setAttribute("poster",e.image.$item.src)}}e.image.$container.appendChild(t);i.parentNode.removeChild(i)}))}};var o=t.prototype.coverImage;t.prototype.coverImage=function(){var e=this;var t=o.apply(e);var i=e.image.$item?e.image.$item.nodeName:false;if(t&&e.video&&i&&("IFRAME"===i||"VIDEO"===i)){var a=t.image.height;var n=a*e.image.width/e.image.height;var r=(t.container.width-n)/2;var l=t.image.marginTop;if(t.container.width>n){n=t.container.width;a=n*e.image.height/e.image.width;r=0;l+=(t.image.height-a)/2}if("IFRAME"===i){a+=400;l-=200}e.css(e.$video,{width:n+"px",marginLeft:r+"px",height:a+"px",marginTop:l+"px"})}return t};var a=t.prototype.initImg;t.prototype.initImg=function(){var e=this;var t=a.apply(e);if(!e.options.videoSrc){e.options.videoSrc=e.$item.getAttribute("data-jarallax-video")||null}if(e.options.videoSrc){e.defaultInitImgResult=t;return true}return t};var n=t.prototype.canInitParallax;t.prototype.canInitParallax=function(){var e=this;var t=n.apply(e);if(!e.options.videoSrc){return t}var i=new VideoWorker(e.options.videoSrc,{autoplay:true,loop:e.options.videoLoop,showContols:false,startTime:e.options.videoStartTime||0,endTime:e.options.videoEndTime||0,mute:e.options.videoVolume?0:1,volume:e.options.videoVolume||0});function o(){if(e.image.$default_item){e.image.$item=e.image.$default_item;e.image.$item.style.display="block";e.coverImage();e.clipContainer();e.onScroll()}}if(i.isValid()){if(this.options.disableParallax()){t=true;e.image.position="absolute";e.options.type="scroll";e.options.speed=1}if(!t){if(!e.defaultInitImgResult){i.getImageURL((function(t){var i=e.$item.getAttribute("style");if(i){e.$item.setAttribute("data-jarallax-original-styles",i)}e.css(e.$item,{"background-image":'url("'+t+'")',"background-position":"center","background-size":"cover"})}))}}else{i.on("ready",(function(){if(e.options.videoPlayOnlyVisible){var t=e.onScroll;e.onScroll=function(){t.apply(e);if(!e.videoError&&(e.options.videoLoop||!e.options.videoLoop&&!e.videoEnded)){if(e.isVisible()){i.play()}else{i.pause()}}}}else{i.play()}}));i.on("started",(function(){e.image.$default_item=e.image.$item;e.image.$item=e.$video;e.image.width=e.video.videoWidth||1280;e.image.height=e.video.videoHeight||720;e.coverImage();e.clipContainer();e.onScroll();if(e.image.$default_item){e.image.$default_item.style.display="none"}}));i.on("ended",(function(){e.videoEnded=true;if(!e.options.videoLoop){o()}}));i.on("error",(function(){e.videoError=true;o()}));e.video=i;if(!e.defaultInitImgResult){e.image.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";if("local"!==i.type){i.getImageURL((function(t){e.image.bgImage='url("'+t+'")';e.init()}));return false}}}}return t};var r=t.prototype.destroy;t.prototype.destroy=function(){var e=this;if(e.image.$default_item){e.image.$item=e.image.$default_item;delete e.image.$default_item}r.apply(e)}}var jarallaxVideo_esm=Object.freeze({__proto__:null,default:jarallaxVideo});function jarallaxElement(e){if(e===void 0){e=window_1.jarallax}if("undefined"===typeof e){return}var t=e.constructor;["initImg","canInitParallax","init","destroy","clipContainer","coverImage","isVisible","onScroll","onResize"].forEach((function(e){var i=t.prototype[e];t.prototype[e]=function(){var t=[];for(var o=0;o<arguments.length;o++){t[o]=arguments[o]}var a=this;if("initImg"===e&&null!==a.$item.getAttribute("data-jarallax-element")){a.options.type="element";a.pureOptions.speed=a.$item.getAttribute("data-jarallax-element")||a.pureOptions.speed}if("element"!==a.options.type){return i.apply(a,t)}a.pureOptions.threshold=a.$item.getAttribute("data-threshold")||"";switch(e){case"init":var n=a.pureOptions.speed.split(" ");a.options.speed=a.pureOptions.speed||0;a.options.speedY=n[0]?parseFloat(n[0]):0;a.options.speedX=n[1]?parseFloat(n[1]):0;var r=a.pureOptions.threshold.split(" ");a.options.thresholdY=r[0]?parseFloat(r[0]):null;a.options.thresholdX=r[1]?parseFloat(r[1]):null;i.apply(a,t);var l=a.$item.getAttribute("data-jarallax-original-styles");if(l){a.$item.setAttribute("style",l)}return true;case"onResize":var s=a.css(a.$item,"transform");a.css(a.$item,{transform:""});var p=a.$item.getBoundingClientRect();a.itemData={width:p.width,height:p.height,y:p.top+a.getWindowData().y,x:p.left};a.css(a.$item,{transform:s});break;case"onScroll":var d=a.getWindowData();var u=(d.y+d.height/2-a.itemData.y-a.itemData.height/2)/(d.height/2);var f=u*a.options.speedY;var m=u*a.options.speedX;var c=f;var v=m;if(null!==a.options.thresholdY&&f>a.options.thresholdY)c=0;if(null!==a.options.thresholdX&&m>a.options.thresholdX)v=0;a.css(a.$item,{transform:"translate3d("+v+"px,"+c+"px,0)"});break;case"initImg":case"isVisible":case"clipContainer":case"coverImage":return true}return i.apply(a,t)}}))}var jarallaxElement_esm=Object.freeze({__proto__:null,default:jarallaxElement});var require$$0=getAugmentedNamespace(jarallax_esm);var require$$1=getAugmentedNamespace(jarallaxVideo_esm);var require$$2=getAugmentedNamespace(jarallaxElement_esm);var jarallax=require$$0.default;var jarallaxVideo$1=require$$1.default;var jarallaxElement$1=require$$2.default;var jarallax_1={jarallax:jarallax,jarallaxElement:function(){return jarallaxElement$1(jarallax)},jarallaxVideo:function(){return jarallaxVideo$1(jarallax)}};var aesImageCss=":host{display:block}:host([parallax]) figure{height:50vh;-webkit-clip-path:inset(0 0 0 0);clip-path:inset(0 0 0 0)}@media (min-width: 1024px){:host([parallax]) figure{height:25vw}}:host([parallax='false']) figure{height:auto;-webkit-clip-path:inset(0 0 0 0);clip-path:inset(0 0 0 0)}@media (min-width: 1024px){:host([parallax='false']) figure{height:auto}}figure{display:block;margin:0}::slotted([slot='caption']){font-family:neue-haas-grotesk-text, Helvetica, Arial, sans-serif;font-size:0.875rem;margin-top:0.5rem}";var AesImage=function(){function e(e){registerInstance(this,e)}e.prototype.toggleParallax=function(){if(this.parallax){jarallax_1.jarallax(this.parallaxContainer,{speed:"0.5",imgElement:this.el.querySelector("img")})}else{jarallax_1.jarallax(this.parallaxContainer,"destroy")}};e.prototype.componentDidLoad=function(){this.toggleParallax()};e.prototype.render=function(){var e=this;return h(Host,null,h("figure",{ref:function(t){return e.parallaxContainer=t}},h("slot",{name:"multimedia"})),h("figcaption",null,h("slot",{name:"caption"})))};Object.defineProperty(e.prototype,"el",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{parallax:["toggleParallax"]}},enumerable:false,configurable:true});return e}();AesImage.style=aesImageCss;export{AesImage as aes_image};